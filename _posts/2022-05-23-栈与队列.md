---

layout: single  
title: "栈与队列"  
date: 2022-05-23 19:57:00 +0800   
categories: algorithm

---

# 栈

* 栈（先进后出），用数组实现的叫顺序栈，用链表实现的叫链式栈
* 栈的应用：
	* 函数调用栈：用来存储函数调用的临时变量，每进入一个函数就会将临时变量作为一个栈帧来入栈，当函数调用结束返回后，对应的栈帧就会出栈。
	* 表达式求值：一个栈保存数值，一个栈保存运算符号，从左往右遍历表达式，当遇到数字就直接压入存放数字的栈，遇到运算符就与栈顶的运算符进行比较，若优先级大于栈顶元素，则运算符压入栈，否则取出数字栈的两个数字和栈顶运算符进行运算后将结果压入数字栈，继续比较运算符。
	* 检查表达式中括号匹配：从左往右扫描字符串，当扫描到左括号，则压入栈，每扫描到右括号则取出栈顶的一个左括号，看是否匹配，若不能匹配或者栈中没有数据可取，则说明表达式格式不对，否则，继续扫描，最后当扫描完成后，栈为空，则说明字符串格式合法，栈不为空，则为格式非法。
	* 浏览器的前进和后退功能：创建两个栈，比如X，Y，将按顺序浏览的页面依次入栈X，即X栈顶的元素即为当前页面，当依次后退时，则当前页面依次出栈并放入栈Y中，当依次前进时，则将Y栈的页面依次出栈放入X栈中，当从X栈顶页面跳转到新的页面时，则会清空Y栈中旧的数据，即无法再返回到Y栈中的页面。

# 队列

* 队列跟栈一样，也是一种**操作受限的线性表**数据结构。
* 队列（先进先出）：用数组实现的叫顺序队列，用链表实现的叫链式队列。
* 队列的应用：
	* 循环队列：队空：队头head=队尾tail，队满：(tail+1) % n = head,n为队列分配的空间大小。注意：当队列满时，图中的 tail 指向的位置实际上是没有存储数据的。
	* 阻塞队列：队列为空，阻塞出队，队列为满，阻塞入队。可用来协调生产者消费者模型的生产速率和消费速率。
	* 并发队列：线程安全的队列：可以加锁，也可以基于数组的循环队列，利用CAS原则操作，实现高效的并发队列。
	* 双端队列：既可以先进先出也可以先进后出。
	* 优先队列：二叉堆（顺序队列）。
* 队列应用在线程池请求排队的场景之外，队列可以应用在任何有限资源池中，用于排队请求，比如数据库连接池等。实际上，对于大部分资源有限的场景，当没有空闲资源时，基本上都可以通过“队列”这种数据结构来实现请求排队。