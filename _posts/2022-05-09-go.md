---

layout: single  
title: "go"  
date: 2022-05-09 13:09:00 +0800   
categories: Go Go-Base

---

* 系统级线程：代码显式地创建和销毁线程。
* 用户级线程：创建、销毁、调度、状态变更以及其中的代码和数据都完全需要我们的程序自己去实现和处理。
* 在 Go 程序当中，Go 语言的运行时（runtime）系统会帮助我们自动地创建和销毁系统级的线程。这里的系统级线程指的就是我们刚刚说过的操作系统提供的线程。
* Go 语言不但有着独特的并发编程模型，以及用户级线程 goroutine，还拥有强大的用于调度 goroutine、对接系统级线程的调度器。
* 调度器是 Go 语言运行时系统的重要组成部分，它主要负责统筹调配 Go 并发编程模型中的三个主要元素，即：G（goroutine 的缩写）、P（processor 的缩写）和 M（machine 的缩写）。其中的 M 指代的就是系统级线程。而 P 指的是一种可以承载若干个 G，且能够使这些 G 适时地与 M 进行对接，并得到真正运行的中介。G 和 M 由于 P 的存在可以呈现出多对多的关系。  

	![M、P、G之间的关系](/assets/img/M、P、G之间的关系.png)
	
* go函数的执行时间总是会明显滞后于它所属的go语句的执行时间。
*  go 调度器是抢占式的，如果某些goroutine有类似死循环的代码存在，最好加个等待时间，防止一直占用资源，其他goroutine无法执行。
* struct{}类型值的表示法只有一个，即：struct{}{}。并且，它占用的内存空间是0字节。确切地说，这个值在整个 Go 程序中永远都只会存在一份。虽然我们可以无数次地使用这个值字面量，但是用到的却都是同一个值。
* [go 语句的内部函数说明](https://golang.google.cn/pkg/runtime/)